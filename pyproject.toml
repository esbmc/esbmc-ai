[project]
name = "esbmc_ai"
description = "LLM driven development and automatic repair kit."
readme = "README.md"
requires-python = ">=3.12"
license-files = ["LICENSE"]
authors = [
  { name = "Yiannis Charalambous", email = "yiannis128@hotmail.com" },
]
keywords = [
  "AI",
  "LLM",
  "automated code repair",
  "esbmc",
]
classifiers = [
  "License :: OSI Approved :: GNU Affero General Public License v3",
  "Programming Language :: Python :: 3",
]
dependencies = [
  "aiosignal==1.3.1",
  "async-timeout==4.0.2",
  "attrs==23.1.0",
  "blessed",
  "certifi==2022.12.7",
  "charset-normalizer==3.1.0",
  "idna==3.4",
  "langchain",
  "langchain-anthropic",
  "langchain-community",
  "langchain-ollama",
  "langchain-openai",
  "lizard",
  "openai",
  "platformdirs",
  "python-dotenv==1.0.0",
  "regex==2023.3.23",
  "requests==2.29.0",
  "tiktoken",
  "tiktoken",
  "torch",
  "transformers",  # Needed by langchain to calculate get_token_ids
  "urllib3==1.26.15",
  "yarl==1.9.2",
]
# https://hatch.pypa.io/latest/version/
dynamic = ["version"]

[project.urls]
Documentation = "https://github.com/esbmc/esbmc-ai/wiki"
Homepage = "https://github.com/esbmc/esbmc-ai"
Issues = "https://github.com/esbmc/esbmc-ai/issues"
"Source Code" = "https://github.com/esbmc/esbmc-ai"

[project.scripts]
esbmc-ai = "esbmc_ai.__main__:main"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.version]
path = "esbmc_ai/__about__.py"

[tool.hatch.envs.default]
description = "Default environment. Used for development."
dependencies = [
  "pylint",
  "ipykernel",
  "py",  # Dependency of pytest-regtest
  "twine",
]

[tool.hatch.envs.hatch-test]
description = "Used when running pytest. Using hatch test..."
extra-dependencies = [
  "pytest",
  "pytest-subtests",
  "pytest-cov",
  "pytest-regtest",
]

[tool.hatch.build.targets.sdist]
include = ["/esbmc_ai"]
# exclude = ["**/*"]
# packages = ["esbmc_ai"]

[tool.hatch.build.targets.wheel]
include = ["/esbmc_ai"]
# exclude = ["**/*"]
# packages = ["esbmc_ai"]

[tool.pytest.ini_options]
addopts = [
  "--import-mode=importlib",
]
